# pytest設定ファイル
[pytest]
# テストディレクトリ
testpaths = ../tests/backend

# 除外ディレクトリ (マニュアルテストスクリプト等)
ignore = testdata

# テストファイルパターン
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# 出力設定
addopts =
  -v
  --strict-markers
  --tb=short
  --ignore=testdata
  --cov=app
  --cov-report=term-missing
  --cov-report=html
  --cov-fail-under=70

# マーカー定義
markers =
  slow: 実行に時間がかかるテスト
  integration: 外部サービス統合テスト
  unit: 単体テスト

# 非同期テスト設定
asyncio_mode = auto
